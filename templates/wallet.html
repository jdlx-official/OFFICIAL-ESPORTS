<!-- templates/wallet.html -->
<!doctype html>
<html>
<head><meta charset="utf-8"><title>My Wallet</title></head>
<body style="background:#0f0f0f;color:#fff;font-family:Poppins,sans-serif;">
  <div style="max-width:860px;margin:30px auto;padding:0 16px;">
    <div style="background:#141414;padding:20px;border-radius:12px;display:flex;justify-content:space-between;align-items:center;">
      <div>
        <h2 style="margin:0;color:#ffdd00;">Wallet</h2>
        <p style="margin:6px 0 0;color:#dcdcdc;">Hello, {{ user.username }}</p>
      </div>
      <div>
        <div style="font-size:28px;font-weight:800;">₹ {{ wallet.balance }}</div>
        <div style="font-size:12px;color:#dcdcdc;text-align:right;">Available Balance</div>
      </div>
    </div>

    <div style="margin-top:16px;display:flex;gap:12px;">
      <a href="{{ url_for('wallet_add_page') }}" style="background:#ffdd00;color:#111;padding:10px 14px;border-radius:10px;font-weight:700;text-decoration:none;">➕ Add Money</a>
      <a href="{{ url_for('home') }}" style="background:#222;color:#ffdd00;padding:10px 14px;border-radius:10px;text-decoration:none;">⬅ Back</a>
    </div>

    <div style="margin-top:24px;background:#141414;padding:16px;border-radius:12px;">
      <h3 style="margin-top:0;color:#ffdd00;">Transaction History</h3>
      {% if txs %}
        <table style="width:100%;border-collapse:collapse;">
          <thead>
            <tr style="text-align:left;color:#111;background:#ffdd00;">
              <th style="padding:10px;border-radius:8px 0 0 8px;">Date</th>
              <th>Type</th>
              <th>Amount</th>
              <th>Status</th>
              <th style="padding:10px;border-radius:0 8px 8px 0;">Ref</th>
            </tr>
          </thead>
          <tbody>
            {% for t in txs %}
            <tr style="border-bottom:1px solid rgba(255,255,255,0.06);">
              <td style="padding:10px;">{{ t.created_at.strftime('%d %b %Y %I:%M %p') }}</td>
              <td>{{ t.type }}</td>
              <td>₹ {{ t.amount }}</td>
              <td style="color:{% if t.status=='success' %}#4caf50{% elif t.status=='failed' %}#f44336{% else %}#ffdd00{% endif %};">
                {{ t.status|capitalize }}
              </td>
              <td>{{ t.payu_txnid or '' }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <p style="color:#dcdcdc;">No transactions yet.</p>
      {% endif %}
    </div>
  </div>
</body>
</html>
